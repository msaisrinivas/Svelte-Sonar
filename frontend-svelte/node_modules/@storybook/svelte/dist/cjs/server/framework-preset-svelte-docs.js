"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.previewAnnotations = void 0;
exports.webpackFinal = webpackFinal;

require("core-js/modules/es.promise.js");

var _path = _interopRequireDefault(require("path"));

var _coreCommon = require("@storybook/core-common");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

async function webpackFinal(webpackConfig, options) {
  var svelteOptions = await options.presets.apply('svelteOptions', {}, options);
  webpackConfig.module.rules.push({
    test: /\.svelte$/,
    loader: _path.default.resolve(`${__dirname}/svelte-docgen-loader`),
    enforce: 'post',
    options: svelteOptions
  });
  return webpackConfig;
}

var previewAnnotations = function (entry = []) {
  return [...entry, (0, _coreCommon.findDistEsm)(__dirname, 'client/docs/config')];
};

exports.previewAnnotations = previewAnnotations;